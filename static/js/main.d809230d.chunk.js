(this.webpackJsonpcscc=this.webpackJsonpcscc||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a.n(r),u=(a(11),function(){return l.a.createElement("div",{className:"head"},l.a.createElement("h1",null,"Tables"))}),i=a(2),s=a(3),o=a(1),m=function(){return fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){return e.json()}))},f=function(e){var t=e.data;return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Restaurant"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"City"),l.a.createElement("th",null,"State"),l.a.createElement("th",null,"Telephone"),l.a.createElement("th",null,"Genre"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.address1),l.a.createElement("td",null,e.city),l.a.createElement("td",null,e.state),l.a.createElement("td",null,e.telephone),l.a.createElement("td",null,e.genre))}))))},d=function(e){for(var t=e.pagesPer,a=e.page,r=e.total,c=e.paginate,u=[],i=1;i<=Math.ceil(r/t);i++)u.push(i);return Object(n.useEffect)((function(){for(var e=document.querySelector(".pagination"),t=document.querySelectorAll(".pagination li"),n=document.getElementsByClassName("".concat(a)),l=0;l<t.length;l++)e.classList.remove("load"),t[l].classList.remove("active");void 0!==n[0]&&n[0].classList.add("active")}),[a]),r<=10?l.a.createElement(l.a.Fragment,null):l.a.createElement("ul",{className:"pagination load"},u.map((function(e){return l.a.createElement("li",{key:e,className:e},l.a.createElement("a",{onClick:function(){return c(e)},href:"#!"},e))})))},E=function(e){var t=e.searchData;return l.a.createElement("input",{type:"text",name:"search",onChange:function(e){var a=e.target.value;t(a)},placeholder:"Search by restaurant Name, City or Genre"})},h=["All States","AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],p=["All Genres","American","Asian","Bakery","Belgian","British","Bistro","Cafe","Coffee","Contemporary","Continental","Eclectic","European","French","Fusion","Grill","Hawaiian","International","Irish","Italian","Japanese","Kosher","Oysters","Pasta","Pacific Rim","Polynesian","Sandwiches","Seafood","Steak","Sushi","Tea","Traditional","Vegetarian","Vietnamese"],g=function(e){var t=e.filterDataItems,a=e.name;return l.a.createElement("select",{name:a,onChange:function(e){var a,n=e.target.name,l=e.target.value;a=Object(i.a)({},n,l),t(a)}},function(){var e=[];a="state"===a?h:p;for(var t=0;t<=a.length;t++)e.push(l.a.createElement("option",{key:t,value:a[t]},a[t]));return e}())},b=function(){var e=Object(n.useState)([{id:Math.floor(20*Math.random())}]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([{}]),u=Object(o.a)(c,2),h=u[0],p=u[1],b=Object(n.useState)(1),O=Object(o.a)(b,2),v=O[0],A=O[1],j=Object(n.useState)(10),S=Object(o.a)(j,1)[0],N=Object(n.useState)(""),y=Object(o.a)(N,2),C=y[0],M=y[1],I=Object(n.useState)({state:"All States",genre:"All Genre"}),D=Object(o.a)(I,2),T=D[0],k=D[1],L=function(e){e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),function(e){r(e)}(e)},G=function(e){if(0!==e.length)return L(e);L([{id:Math.floor(20*Math.random()),name:"No results"}])};function w(){var e=T.state,t=T.genre,a=h;e.includes("All")&&t.includes("All")?G(a):a=!e.includes("All")&&t.includes("All")?h.filter((function(t){return t.state===e})):e.includes("All")&&!t.includes("All")?h.filter((function(e){return e.genre.includes(t)})):(a=h.filter((function(t){return t.state===e}))).filter((function(e){return e.genre.includes(t)})),0===a.length?L([{id:Math.floor(20*Math.random()),name:"No results"}]):function(e){var t=["id","address1","state","zip","lat","long","telephone","tags","website","hours","attire"],a=C.toLowerCase();if(""===a)L(e);else{var n=e.filter((function(e){return Object.keys(e).some((function(n){return!t.includes(n)&&e[n].toString().toLowerCase().includes(a)}))}));G(n)}}(a)}Object(n.useEffect)((function(){A(1),w()}),[C]),Object(n.useEffect)((function(){A(1),w()}),[T]),Object(n.useEffect)((function(){w()}),[h]),Object(n.useEffect)((function(){m().then((function(e){p(e)}))}),[]);var B=function(e){var t=Object.keys(e);t=t[0],k(Object(s.a)(Object(s.a)({},T),{},Object(i.a)({},t,e[t])))},K=v*S,P=K-S,V=a.slice(P,K);return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{searchData:function(e){M(e)}}),l.a.createElement("div",{className:"select"},l.a.createElement("span",null,l.a.createElement(g,{name:"state",filterDataItems:B})),l.a.createElement("span",null,l.a.createElement(g,{name:"genre",filterDataItems:B}))),l.a.createElement(f,{data:V}),l.a.createElement(d,{pagesPer:S,page:v,total:a.length,paginate:function(e){A(e)}}))};var O=function(){return l.a.createElement("div",{className:"container"},l.a.createElement(u,null),l.a.createElement(b,null))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root"))},6:function(e,t,a){e.exports=a(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.d809230d.chunk.js.map