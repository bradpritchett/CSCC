(this.webpackJsonpcscc=this.webpackJsonpcscc||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),u=(a(14),function(){return r.a.createElement("h1",null,"Tables")}),i=a(8),s=a(1),o=function(){return fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){return e.json()}))},m=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Telephone"),r.a.createElement("th",null,"Genre"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.address1),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.state),r.a.createElement("td",null,e.telephone),r.a.createElement("td",null,e.genre))}))))},f=function(e){for(var t=e.pagesPer,a=e.page,l=e.total,c=e.paginate,u=[],i=1;i<=Math.ceil(l/t);i++)u.push(i);return Object(n.useEffect)((function(){for(var e=document.querySelector(".pagination"),t=document.querySelectorAll(".pagination li"),n=document.getElementsByClassName("".concat(a)),r=0;r<t.length;r++)e.classList.remove("load"),t[r].classList.remove("active");void 0!==n[0]&&n[0].classList.add("active")}),[a]),r.a.createElement("ul",{className:"pagination load"},u.map((function(e){return r.a.createElement("li",{key:e,className:e},r.a.createElement("a",{onClick:function(){return c(e)}},e))})))},d=function(e){var t=e.searchData;return r.a.createElement("input",{type:"text",name:"search",onChange:function(e){var a=e.target.value;t(a)},placeholder:"Search by restaurant Name, City or Genre"})},h=a(4),E=a(5),g=["All States","AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],p=["All Genres","American","Asian","Bakery","Belgian","British","Bistro","Cafe","Coffee","Contemporary","Continental","Eclectic","European","French","Fusion","Grill","Hawaiian","International","Irish","Italian","Japanese","Kosher","Oysters","Pasta","Pacific Rim","Polynesian","Sandwiches","Seafood","Steak","Sushi","Tea","Traditional","Vegetarian","Vietnamese"],v=function(e){var t=e.filterDataItems,a=Object(n.useState)({state:"All States",genre:"All Genre"}),l=Object(s.a)(a,2),c=l[0],u=l[1];function i(e){var t=e.target.name,a=e.target.value;o(t,a)}var o=function(e,a){var n;n=Object(E.a)(Object(E.a)({},c),{},Object(h.a)({},e,a)),u(n),t(n)};return r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"state",onChange:i,value:c.states},function(){for(var e=[],t=0;t<=g.length;t++)e.push(r.a.createElement("option",{key:t,value:g[t]},g[t]));return e}()),r.a.createElement("select",{name:"genre",onChange:i,value:c.genre},function(){for(var e=[],t=0;t<=p.length;t++)e.push(r.a.createElement("option",{key:t,value:p[t]},p[t]));return e}()))},b=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),u=Object(s.a)(c,2),h=u[0],E=u[1],g=Object(n.useState)(1),p=Object(s.a)(g,2),b=p[0],A=p[1],O=Object(n.useState)(10),S=Object(s.a)(O,1)[0],j=Object(n.useState)("default"),y=Object(s.a)(j,2),C=y[0],N=y[1],I=Object(n.useState)({state:"All States",genre:"All Genre"}),M=Object(s.a)(I,2),D=M[0],T=M[1];Object(n.useEffect)((function(){o().then((function(e){E(e),k(e)}))}),[]);var k=function(e){var t=Object(i.a)(e);t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),G(t)},G=function(e){l(e)};function L(e){var t=e.state,a=e.genre;T({state:t,genre:a});var n=h;if(t.includes("All")&&a.includes("All")?k(h):n=!t.includes("All")&&a.includes("All")?h.filter((function(e){return e.state===t})):t.includes("All")&&!a.includes("All")?h.filter((function(e){return e.genre.includes(a)})):(n=h.filter((function(e){return e.state===t}))).filter((function(e){return e.genre.includes(a)})),0!==n.length)return k(n);k([{id:Math.floor(20*Math.random()),name:"No results for "+t}])}Object(n.useEffect)((function(){!function(){A(1);var e=["id","address1","state","zip","lat","long","telephone","tags","website","hours","attire"],t=C.toLowerCase();if(""===t)L(D);else{var n=a.filter((function(a){return Object.keys(a).some((function(n){return!e.includes(n)&&a[n].toString().toLowerCase().includes(t)}))}));k(n)}}()}),[C]);var w=b*S,B=w-S,K=a.slice(B,w);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{searchData:function(e){N(e)}}),r.a.createElement(v,{data:a,sortData:k,filterDataItems:L}),r.a.createElement(m,{data:K}),r.a.createElement(f,{pagesPer:S,page:b,total:a.length,paginate:function(e){A(e)}}))};var A=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u,null),r.a.createElement(b,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.6933038f.chunk.js.map