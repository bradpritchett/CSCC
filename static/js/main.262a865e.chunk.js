(this.webpackJsonpcscc=this.webpackJsonpcscc||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),u=(a(14),function(){return r.a.createElement("div",{className:"head"},r.a.createElement("h1",null,"Tables"))}),i=a(2),s=a(5),o=a(8),m=a(1),f=function(){return fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){return e.json()}))},d=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Telephone"),r.a.createElement("th",null,"Genre"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.address1),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.state),r.a.createElement("td",null,e.telephone),r.a.createElement("td",null,e.genre))}))))},E=function(e){for(var t=e.pagesPer,a=e.page,l=e.total,c=e.paginate,u=[],i=1;i<=Math.ceil(l/t);i++)u.push(i);return Object(n.useEffect)((function(){for(var e=document.querySelector(".pagination"),t=document.querySelectorAll(".pagination li"),n=document.getElementsByClassName("".concat(a)),r=0;r<t.length;r++)e.classList.remove("load"),t[r].classList.remove("active");void 0!==n[0]&&n[0].classList.add("active")}),[a]),l<10?r.a.createElement(r.a.Fragment,null):r.a.createElement("ul",{className:"pagination load"},u.map((function(e){return r.a.createElement("li",{key:e,className:e},r.a.createElement("a",{onClick:function(){return c(e)},href:"#!"},e))})))},h=function(e){var t=e.searchData;return r.a.createElement("input",{type:"text",name:"search",onChange:function(e){var a=e.target.value;t(a)},placeholder:"Search by restaurant Name, City or Genre"})},p=["All States","AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],g=["All Genres","American","Asian","Bakery","Belgian","British","Bistro","Cafe","Coffee","Contemporary","Continental","Eclectic","European","French","Fusion","Grill","Hawaiian","International","Irish","Italian","Japanese","Kosher","Oysters","Pasta","Pacific Rim","Polynesian","Sandwiches","Seafood","Steak","Sushi","Tea","Traditional","Vegetarian","Vietnamese"],b=function(e){var t=e.filterDataItems,a=e.name;return r.a.createElement("select",{name:a,onChange:function(e){var a,n=e.target.name,r=e.target.value;a=Object(i.a)({},n,r),t(a)}},function(){var e=[];a="state"===a?p:g;for(var t=0;t<=a.length;t++)e.push(r.a.createElement("option",{key:t,value:a[t]},a[t]));return e}())},v=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([{}]),u=Object(m.a)(c,2),p=u[0],g=u[1],v=Object(n.useState)(1),O=Object(m.a)(v,2),A=O[0],j=O[1],S=Object(n.useState)(10),y=Object(m.a)(S,1)[0],N=Object(n.useState)("default"),C=Object(m.a)(N,2),I=C[0],M=C[1],D=Object(n.useState)({state:"All States",genre:"All Genre"}),T=Object(m.a)(D,2),k=T[0],L=T[1];Object(n.useEffect)((function(){f().then((function(e){g(e)}))}),[]);var G=function(e){var t=Object(o.a)(e);t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),w(t)},w=function(e){l(e)};function B(e){var t=["id","address1","state","zip","lat","long","telephone","tags","website","hours","attire"],a=I.toLowerCase();if(""===a)G(e);else{var n=e.filter((function(e){return Object.keys(e).some((function(n){return!t.includes(n)&&e[n].toString().toLowerCase().includes(a)}))}));G(n)}}Object(n.useEffect)((function(){j(1),B(a)}),[I]),Object(n.useEffect)((function(){j(1),function(){var e=k.state,t=k.genre,a=p;if(e.includes("All")&&t.includes("All")?B(p):a=!e.includes("All")&&t.includes("All")?p.filter((function(t){return t.state===e})):e.includes("All")&&!t.includes("All")?p.filter((function(e){return e.genre.includes(t)})):(a=p.filter((function(t){return t.state===e}))).filter((function(e){return e.genre.includes(t)})),0!==a.length)return G(a);G([{id:Math.floor(20*Math.random()),name:"No results for "+e}])}()}),[k]),Object(n.useEffect)((function(){G(p)}),[p]);var K=function(e){var t=Object.keys(e);t=t[0],L(Object(s.a)(Object(s.a)({},k),{},Object(i.a)({},t,e[t])))},P=A*y,V=P-y,F=a.slice(V,P);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{searchData:function(e){M(e)}}),r.a.createElement("div",{className:"select"},r.a.createElement("span",null,r.a.createElement(b,{name:"state",filterDataItems:K})),r.a.createElement("span",null,r.a.createElement(b,{name:"genre",filterDataItems:K}))),r.a.createElement(d,{data:F}),r.a.createElement(E,{pagesPer:y,page:A,total:a.length,paginate:function(e){j(e)}}))};var O=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u,null),r.a.createElement(v,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.262a865e.chunk.js.map